<!DOCTYPE html>
<html>
<head>
	<script src="../../../../../node_modules/@webcomponents/custom-elements/custom-elements.min.js"></script>
	<script src="../../../../../node_modules/@webcomponents/custom-elements/src/native-shim.js"></script>
	<script src="../../../../../node_modules/@dojo/loader/loader.js"></script>
</head>
<body>
<test-button id="testButton" label="hello" label-suffix="world"></test-button>

<no-attributes id="noAttributes" label="hello" label-suffix="world"></no-attributes>

<script>
	window.buttonClicked = false;
	window.ready = false;

	require.config({
		packages: [
			{ name: '@dojo', location: '../../../../../node_modules/@dojo' },
			{ name: 'maquette', location: '../../../../../node_modules/maquette/dist', main: 'maquette' },
			{ name: 'pepjs', location: '../../../../../node_modules/pepjs/dist', main: 'pep' }
		]
	});

	require(['./registerCustomElement'], function() {
		window.ready = true;

		document.getElementById('testButton').addEventListener('button-click', function() {
			window.buttonClicked = true;
		});

		document.getElementById('noAttributes').buttonLabel = 'Test';

		var el = document.createElement('test-button');
		el.id = 'manualButton';
		el.label = 'manual';
		document.body.appendChild(el);

		var reinitButton = document.createElement("test-button");
		reinitButton.id = "reinitButton";
		reinitButton.label = "test";
		document.body.appendChild(reinitButton);
		document.body.removeChild(reinitButton);
		document.body.appendChild(reinitButton);
	});
</script>
</body>
</html>
